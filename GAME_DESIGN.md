# Boso (보소) - Game Design Document

## 게임 개요

| 항목 | 내용 |
|------|------|
| **장르** | 2D 횡스크롤 액션 RPG (메이플스토리 스타일) |
| **플랫폼** | 웹 브라우저 (PC) |
| **기술 스택** | Phaser 3 + Vite + JavaScript |
| **테마** | 애완동물의 모험, 상실과 치유의 여정 |
| **아트 스타일** | 픽셀/도트 아트 (Nano Banana 생성) |

---

## 핵심 컨셉

플레이어의 애완동물 캐릭터가 광활한 2D 세계를 탐험하며 퀘스트를 수행하고, 몬스터와 실시간 전투를 벌이며, 스토리를 따라 중간 보스와 최종 보스를 격파하는 액션 RPG.

---

## 게임 시스템

### 1. 이동 & 조작

| 키 | 동작 |
|----|------|
| ← → | 좌우 이동 |
| ↑ | 점프 / 사다리 오르기 / 포탈 진입 |
| ↓ | 하단 점프 (플랫폼 통과) / 사다리 내려가기 |
| Z | 기본 공격 |
| X | 스킬 1 |
| C | 스킬 2 |
| Space | NPC 대화 / 상호작용 |
| I | 인벤토리 |
| Q | 퀘스트 로그 |
| ESC | 메뉴 / 일시정지 |

### 2. 전투 시스템 (실시간 액션)

- 기본 공격: Z키로 즉시 공격 (근접 또는 원거리)
- 스킬: X, C 키에 스킬 배치
- 몬스터는 맵에 스폰되어 돌아다님
- 데미지 숫자가 머리 위에 표시
- 몬스터 처치 시 경험치 + 아이템 드랍

### 3. 캐릭터 시스템

- 캐릭터 = 애완동물 (나중에 사진 업로드 → 캐릭터 변환)
- 레벨업: 경험치 획득 → 자동 스탯 증가 (단순하게)
- HP/MP 바 (화면 하단 UI)
- 장비 시스템은 최소화 — 스토리와 탐험에 집중

### 4. 맵 구조

```
[마을] ←포탈→ [초원 1] ←포탈→ [초원 2] ←포탈→ [숲 입구]
                                                    ↓ 포탈
                                              [깊은 숲]
                                                    ↓ 포탈
                                          [보스 던전 입구]
                                                    ↓ 포탈
                                            [중간 보스방]
                                                   ...
                                            [최종 보스방]
                                                    ↓
                                              [엔딩 씬]
```

- 각 맵은 독립적인 씬(Scene)
- 맵 경계에 포탈 배치 → 다른 맵으로 이동
- 자유롭게 왔다 갔다 가능
- 맵마다 고유한 배경, 몬스터, NPC

### 5. 퀘스트 시스템

- NPC 대화를 통해 퀘스트 수락
- 퀘스트 유형: 몬스터 처치, 아이템 수집, 특정 장소 방문
- 메인 퀘스트: 스토리 진행 (보스 해금)
- 서브 퀘스트: 추가 보상
- 퀘스트 완료 → 다음 지역/보스 해금

### 6. 보스 전투

- 중간 보스: 각 지역의 마지막 맵
- 최종 보스: 스토리 클라이맥스
- 보스는 고유 패턴과 페이즈 보유
- 보스 클리어 → 스토리 진행

### 7. UI 레이아웃 (메이플스토리 참고)

```
┌──────────────────────────────────────────────┐
│ [맵 이름]                          [미니맵]  │
│                                              │
│              (게임 플레이 영역)               │
│                                              │
│                                              │
│                                              │
├──────────────────────────────────────────────┤
│ [캐릭터]  HP ████████░░  LV.5               │
│ [아이콘]  MP ██████░░░░  EXP ████░░░░░░     │
│          [Z 공격] [X 스킬] [C 스킬]         │
└──────────────────────────────────────────────┘
```

---

## 개발 로드맵

### Phase 1: 코어 엔진 ⬅️ 현재
> 목표: 캐릭터가 맵에서 움직이고, 플랫폼에 서고, 기본 공격이 가능한 상태

- [ ] 게임 초기화 (main.js, config.js)
- [ ] 플레이어 이동 (좌우, 점프, 하단 점프)
- [ ] 플랫폼 시스템 (서기, 통과)
- [ ] 기본 공격 (Z키, 히트박스)
- [ ] 카메라 팔로우
- [ ] 임시 그래픽으로 프로토타입

### Phase 2: 맵 시스템
> 목표: 여러 맵을 포탈로 이동 가능

- [ ] 맵 씬 구조 (BaseMapScene 클래스)
- [ ] 포탈 시스템 (맵 간 이동)
- [ ] 맵 데이터 JSON 구조
- [ ] 카메라 바운드 (맵 크기에 맞게)
- [ ] 배경 패럴랙스 스크롤

### Phase 3: 전투 시스템
> 목표: 몬스터와 싸울 수 있는 상태

- [ ] 몬스터 기본 AI (이동, 공격)
- [ ] 데미지 계산 + 숫자 표시
- [ ] HP 시스템 (플레이어 + 몬스터)
- [ ] 몬스터 스폰 시스템
- [ ] 아이템 드랍
- [ ] 경험치 + 레벨업

### Phase 4: NPC & 퀘스트
> 목표: NPC와 대화하고 퀘스트 수행 가능

- [ ] NPC 배치 + 대화 시스템
- [ ] 퀘스트 데이터 구조
- [ ] 퀘스트 수락/진행/완료 흐름
- [ ] 퀘스트 UI (로그, 알림)

### Phase 5: 보스 전투
> 목표: 보스 던전 입장 → 보스 격파

- [ ] 보스 AI (패턴, 페이즈)
- [ ] 보스방 잠금/해금
- [ ] 보스 클리어 이벤트

### Phase 6: UI & 연출
> 목표: 완성도 있는 UI와 감성 연출

- [ ] HUD (HP, MP, EXP, 레벨)
- [ ] 인벤토리 UI
- [ ] 미니맵
- [ ] 화면 전환 효과
- [ ] 감성적 색상 연출 (스토리 진행에 따라)

### Phase 7: 에셋 통합 & 폴리시
> 목표: Nano Banana 에셋 적용, 사운드, 최종 다듬기

- [ ] 캐릭터 스프라이트 + 애니메이션
- [ ] 맵 타일셋 + 배경
- [ ] 몬스터/보스 스프라이트
- [ ] NPC 스프라이트 + 대화 초상화
- [ ] BGM + 효과음
- [ ] 메뉴 화면, 엔딩 씬

### Phase 8: 캐릭터 변환 & 배포
> 목표: 사진 → 캐릭터 기능 + 웹 배포

- [ ] Canvas 색상 분석 + 템플릿 매칭
- [ ] 캐릭터 선택 화면
- [ ] Vercel 배포
- [ ] 테스트 + 버그 수정

---

## 프로젝트 구조 (신규)

```
boso-game/
├── src/
│   ├── main.js                    # 게임 진입점
│   ├── config.js                  # Phaser 설정
│   ├── scenes/
│   │   ├── BootScene.js           # 로딩
│   │   ├── MenuScene.js           # 타이틀 화면
│   │   ├── BaseMapScene.js        # 맵 씬 베이스 클래스
│   │   ├── maps/
│   │   │   ├── TownScene.js       # 마을
│   │   │   ├── Field01Scene.js    # 초원 1
│   │   │   └── ...
│   │   └── EndingScene.js         # 엔딩
│   ├── entities/
│   │   ├── Player.js              # 플레이어 캐릭터
│   │   ├── Monster.js             # 몬스터 베이스
│   │   ├── Boss.js                # 보스 베이스
│   │   └── NPC.js                 # NPC
│   ├── systems/
│   │   ├── CombatSystem.js        # 전투 로직
│   │   ├── QuestSystem.js         # 퀘스트 관리
│   │   ├── PortalSystem.js        # 포탈/맵 이동
│   │   └── InventorySystem.js     # 인벤토리
│   ├── ui/
│   │   ├── HUD.js                 # HP, MP, EXP 바
│   │   ├── DialogueBox.js         # 대화창
│   │   ├── QuestLog.js            # 퀘스트 목록
│   │   └── Minimap.js             # 미니맵
│   ├── data/
│   │   ├── maps.json              # 맵 데이터 (플랫폼, 포탈 위치)
│   │   ├── monsters.json          # 몬스터 스탯
│   │   ├── quests.json            # 퀘스트 데이터
│   │   └── npcs.json              # NPC 대화 데이터
│   └── utils/
│       └── constants.js           # 전역 상수
├── assets/
│   ├── sprites/
│   │   ├── player/
│   │   ├── monsters/
│   │   ├── npcs/
│   │   ├── effects/
│   │   └── ui/
│   ├── tilesets/
│   ├── backgrounds/
│   ├── sounds/
│   │   ├── bgm/
│   │   └── sfx/
│   └── fonts/
├── index.html
├── package.json
├── vite.config.js
├── CLAUDE.md
└── GAME_DESIGN.md
```

---

## 기술 노트

### 맵 데이터 구조 (maps.json 예시)
```json
{
  "town": {
    "name": "헤이븐 마을",
    "width": 2400,
    "height": 800,
    "platforms": [
      { "x": 0, "y": 700, "width": 2400, "height": 100 },
      { "x": 400, "y": 550, "width": 200, "height": 20 },
      { "x": 800, "y": 400, "width": 300, "height": 20 }
    ],
    "portals": [
      { "x": 2350, "y": 650, "target": "field01", "spawnX": 50, "spawnY": 600 }
    ],
    "npcs": [
      { "id": "elder", "x": 600, "y": 660, "dialogue": "quest_intro" }
    ],
    "monsters": [],
    "bgm": "town_theme"
  }
}
```

### 씬 전환 플로우
```
BootScene → MenuScene → TownScene ↔ Field01Scene ↔ Field02Scene ↔ ...
                                                        ↕
                                                   BossDungeon
                                                        ↓
                                                   EndingScene
```

### 저장 시스템
- localStorage 사용 (무료, 서버 불필요)
- 저장 데이터: 현재 맵, 위치, 레벨, 퀘스트 진행도, 인벤토리
